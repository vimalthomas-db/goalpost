# Auto-generated from config.env
bundle:
  name: goalpost

sync:
  include:
    - "app/**"
  exclude:
    - "app/frontend/node_modules/**"
    - "app/frontend/src/**"
    - "app/frontend/public/**"
    - "app/frontend/*.json"
    - "app/frontend/*.ts"
    - "app/frontend/*.js"
    - "app/frontend/*.html"
    - "app/frontend/*.config.*"
    - "app/frontend/tsconfig.*"
    - "**/__pycache__/**"
    - "**/*.pyc"
    - "**/.git/**"

variables:
  # Unity Catalog name (e.g., "goalpost_catalog", "main")
  catalog_name:
    default: ""
  # Schema name within the catalog
  schema_name:
    default: goalpost
  # SQL Warehouse ID (e.g., "abc123def456")
  warehouse_id:
    default: ""
  # LLM endpoint name (e.g., "databricks-claude-haiku-4-5", "databricks-meta-llama-3-1-70b-instruct")
  llm_endpoint:
    default: ""

targets:
  dev:
    mode: development
    default: true
    workspace:
      # Your Databricks workspace URL (e.g., "https://your-workspace.cloud.databricks.com")
      host: ""

resources:
  apps:
    goalpost:
      name: goalpost
      description: "Goal tracking app with AI-powered planning"
      source_code_path: ./app

  jobs:
    init_tables:
      name: "Goalpost - Initialize Tables"
      tasks:
        - task_key: create_tables
          sql_task:
            warehouse_id: ${var.warehouse_id}
            file:
              path: ./catalog/init_tables.sql
